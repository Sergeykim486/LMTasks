import telebot, os
from Classes.db import Database


# ==========================================================================
# –û—Å–Ω–æ–≤–Ω–æ–π
TOKEN = "6172385271:AAHYeTps9AXE8dP77_JM4kXV0kIPm22WFwM"

# —Ç–µ—Å—Ç–æ–≤—ã–π
# TOKEN = "911710144:AAGmHGL80xy_dlQPhx-LxqivNSNQDHrGEjw"
# ==========================================================================

# ==========================================================================
# –û—Å–Ω–æ–≤–Ω–æ–π
TOKENC = "303078994:AAFJHY1df6bRv8VtXxzxHoajhVmlHz3cyeY"

# –¢–µ—Å—Ç–æ–≤—ã–π
# TOKENC = "5750687344:AAG-AGZjwyLKInDj4LNMQTR7KxH_QpDlUsQ"
# ==========================================================================


ActiveUser = {} # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –ø–æ –∫–ª—é—á—É –∫–ª—é—á - id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sendedmessages = []
mainclass = None
dbname = os.path.dirname(os.path.abspath(__file__)) + '/Database/' + 'lmtasksbase.db'
db = Database(dbname)
bot = telebot.TeleBot(TOKEN)
users = db.select_table('Users')
for user in users:
    ActiveUser[user[0]] = {'id': user[0]}
    ActiveUser[user[0]]['Pause_main_handler'] = False
    ActiveUser[user[0]]['Finishedop'] = True
    ActiveUser[user[0]]['block_main_menu'] = False
    ActiveUser[user[0]]['block_nt1'] = False

# –†–£–°–ö–ò–ô –Ø–ó–´–ö –ö–ù–û–ü–ö–ò –ò –°–û–û–ë–©–ï–ù–ò–Ø
ru = {
    "omporindivid": "–ö–∞–∫ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",
    "bcompany": "üèõ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è",
    "bindivid": "üë§ –ß–∞—Å—Ç–Ω–æ–µ –ª–∏—Ü–æ",
    "entername": "–ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç (—Ñ–∞–º–∏–ª–∏—è –∏–º—è).",
    "enterinn": "–£–∫–∞–∂–∏—Ç–µ –ò–ù–ù –í–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.",
    "enterpinfl": "–£–∫–∞–∂–∏—Ç–µ –í–∞—à –ü–ò–ù–§–õ",
    "entercname": "–£–∫–∞–∂–∏—Ç–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –í–∞—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",
    "enteradr": "–£–∫–∞–∂–∏—Ç–µ –ê–¥—Ä–µ—Å, –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–∫–∞—Ü–∏—é.",
    "enterphone": "–£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏",
    "enterperson": "–£–∫–∞–∂–∏—Ç–µ –∏–º—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞.",
    "confirm": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é",
    "entertask": "–û–ø–∏—à–∏—Ç–µ –í–∞—à—É –ø—Ä–æ–±–ª–µ–º—É. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞–∫–∞—è –ª–∏–±–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ —É–∫–∞–∂–∏—Ç–µ –∏—Ö —Ç–æ–∂–µ",
    "enterreview": "–û–ø–∏—à–∏—Ç–µ –≤–∞—à–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –æ—Ç–∑—ã–≤ –∏–ª–∏ –∂–∞–ª–æ–±—É",
    "rating": "–ü–æ—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à—É –æ—Ü–µ–Ω–∫—É.",
    "restart": "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å",
    "mainmenu": "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
    "newtask": "üìù –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞",
    "mytasks": "üìã –ú–æ–∏ –∑–∞—è–≤–∫–∏",
    "review": "üñç –û—Ç–∑—ã–≤/–∂–∞–ª–æ–±–∞",
    "rate": "üåü –û—Ü–µ–Ω–∫–∞",
    "settings": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
    "showmydata": "üóÑ –ú–æ–∏ –¥–∞–Ω–Ω—ã–µ",
    "changemydata": "‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–∏ –¥–∞–Ω–Ω—ã–µ",
    "suport": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
    "qtochange": "–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å?",
    "bcname": "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",
    "bmyname": "–ú–æ–µ –∏–º—è",
    "binn": "üÜî –ò–ù–ù",
    "bpinfl": "üÜî –ü–ò–ù–§–õ",
    "badr": "üèò –ê–¥—Ä–µ—Å",
    "bphone": "üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω",
    "bperson": "üë§ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ",
    "breg": "üìã –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
    "errorcom": "‚ö†Ô∏è –ù–µ –≤–µ—Ä–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞",
    "bsend": "üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å",
    "welcome": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º —è –º–æ–≥—É –ø–æ–º–æ—á—å",
    "hi": "–Ø –º–æ–≥—É –ø—Ä–∏–Ω—è—Ç—å –í–∞—à—É –∑–∞—è–≤–∫—É –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –µ–µ –º–∞—Å—Ç–µ—Ä—É. –ò–ª–∏ –ø—Ä—Ä–∏–Ω—è—Ç—å –æ—Ç –≤–∞—Å –æ—Ç–∑—ã–≤, –ø–æ–∂–µ–ª–∞–Ω–∏–µ –∏–ª–∏ –∂–∞–ª–æ–±—É.",
    "by": "‚úÖ –î–∞",
    "bn": "‚õîÔ∏è –ù–µ—Ç",
    "lngsel": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫",
    "enteragayn": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤–≤–µ–¥–∏—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ. \n –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫",
    "sname": "–ò–º—è:",
    "scname": "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:",
    "sperson": "–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:",
    "sadr": "–ê–¥—Ä–µ—Å:",
    "sphone": "–¢–µ–ª–µ—Ñ–æ–Ω:",
    "slang": "–Ø–∑—ã–∫:",
    "success": "‚úÖ –û–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞.",
    "searchnone": "–ü–æ –í–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ—Ç.",
    "contractifno": "–£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞ –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å. –ï—Å–ª–∏ –Ω–µ—Ç –Ω–∞–∂–º–∏—Ç–µ –ø–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.",
    "bskip": "‚è© –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å",
    "bsave": "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
    "blang": "üá∫üáøüá¨üáßüá∑üá∫ –Ø–∑—ã–∫",
    "bcancel": "‚õîÔ∏è –û—Ç–º–µ–Ω–∞",
    "selectlang": '–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫',
    "locleave": "‚è© –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å",
    "locadd": "‚ûï –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é",
    "locwhere": "–ö—É–¥–∞ –¥–æ–ª–∂–µ–Ω –ø–æ–¥—ä–µ—Ö–∞—Ç—å –º–∞—Å—Ç–µ—Ä? –í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é –∏–∑ —Å–ø–∏—Å–∫–∞, –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥",
    "locsendloc": "–û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–∫–∞—Ü–∏—é",
    "locerrorloc": "–í—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ª–æ–∫–∞—Ü–∏—é.\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–∫–∞—Ü–∏—é",
    "locentername": "–£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–∫–∞—Ü–∏–∏.\n–ù–∞–ø—Ä–∏–º–µ—Ä:\n–≥–ì–æ–ª–æ–≤–Ω–æ–π –æ—Ñ–∏—Å –∏–ª–∏ —Ñ–∏–ª–∏–∞–ª –º–∏—Ä–∞–±–∞–¥—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞.",
    "setmylocs": "üìç –ú–æ–∏ –ª–æ–∫–∞—Ü–∏–∏",
    "setchange": "‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å",
    "setmestochange": "–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É [–ò–∑–º–µ–Ω–∏—Ç—å] –ø–æ–¥ –Ω—É–∂–Ω–æ–π –ª–æ–∫–∞—Ü–∏–µ–π\n–í—ã —Ç–∞–∫ –∂–µ "": –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é.",
    "setwywtch": "–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å?",
    "setlocationch": "üìç –õ–æ–∫–∞—Ü–∏—é",
    "setnameloc": "–ù–∞–∑–≤–∞–Ω–∏–µ",
    "setdelete": "üóë –£–¥–∞–ª–∏—Ç—å",
    "setconf": "–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –ª–æ–∫–∞—Ü–∏—é?",
    "setconf2": "–í—ã –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ.\n–£–¥–∞–ª–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é?"
}

# –ê–ù–ì–õ–ò–ô–°–ö–ò–ô –Ø–ó–´–ö –ö–ù–û–ü–ö–ò –ò –°–û–û–ë–©–ï–ù–ò–Ø
en = {
    "omporindivid": "How do you want to register",
    "bcompany": "üèõ Organization",
    "bindivid": "üë§ Individual",
    "entername": "What is your name (last name, first name).",
    "enterinn": "Enter your organization's TIN.",
    "enterpinfl": "Enter your PINFL.",
    "entercname": "Enter your organization name.",
    "enteradr": "Enter address, or send location.",
    "enterphone": "Enter contact phone number.",
    "enterperson": "Enter contact person name.",
    "confirm": "Confirm information",
    "entertask": "Describe your problem. If there is any additional information or contact, please also indicate them.",
    "enterreview": "Describe your suggestion, feedback or complaint.",
    "rating": "Rate your experience.",
    "restart": "üîÑ Restart",
    "mainmenu": "üè† Main menu",
    "newtask": "üìù New request",
    "mytasks": "üìã My requests",
    "review": "üñç Feedback/Complaint",
    "rate": "üåü Rating",
    "settings": "‚öôÔ∏è Settings",
    "showmydata": "üóÑ My data",
    "changemydata": "‚úèÔ∏è Change my data",
    "suport": "Technical support",
    "qtochange": "What do you want to change?",
    "bcname": "Organization name",
    "bmyname": "My name",
    "binn": "üÜî TIN",
    "bpinfl": "üÜî Individual Taxpayer Number",
    "badr": "üèò Address",
    "bphone": "üìû Contact phone",
    "bperson": "üë§ Contact person",
    "breg": "üìã Registration",
    "errorcom": "‚ö†Ô∏è Invalid command",
    "bsend": "üì® Send",
    "welcome": "Hello! How can I help you?",
    "hi": "I can accept your request and send it to the master. Or I can accept your feedback, suggestion or complaint.",
    "by": "‚úÖ Yes",
    "bn": "‚õîÔ∏è No",
    "lngsel": "Please select a language",
    "enteragayn": "Please enter all the data again. \n Select a language",
    "sname": "Name:",
    "scname": "Organization name:",
    "sperson": "Contact person:",
    "sadr": "Address:",
    "sphone": "Phone:",
    "slang": "Language:",
    "success": "‚úÖ Operation completed successfully.",
    "searchnone": "There is nothing matching your request.",
    "contractifno": "Enter the long-term contract number if you have one. If not, skip it.",
    "bskip": "‚è© Skip",
    "bsave": "üíæ Save",
    "blang": "üá∫üáøüá¨üáßüá∑üá∫ Language",
    "bcancel": "‚õîÔ∏è Cancel",
    "selectlang": "Select a language",
    "locleave": "‚è© Skip",
    "locadd": "‚ûï Add location",
    "locwhere": "Where should the master come? Choose a location from the list, add a new one, or skip this step",
    "locsendloc": "Send location",
    "locerrorloc": "You haven't sent a location.\nPlease send a location",
    "locentername": "Specify a name for the new location.\nFor example:\nMain office or Mirabad district branch.",
    "setmylocs": "üìç My locations",
    "setchange": "‚úèÔ∏è Change",
    "setmestochange": "To change a location, click on the [Change] button below the desired location. You can also add a new one.",
    "setwywtch": "What would you like to change?",
    "setlocationch": "üìç Location",
    "setnameloc": "Name",
    "setdelete": "üóë Delete",
    "setconf": "Are you sure you want to delete this location?",
    "setconf2": "You haven't confirmed the deletion. Delete the location?"
}

# –£–ó–ë–ï–ö–°–ö–ò–ô –Ø–ó–´–ö –ö–ù–û–ü–ö–ò –ò –°–û–û–ë–©–ï–ù–ò–Ø
uz = {
    "omporindivid": "Siz qaysi holatda ro'yxatdan o'tmoqchisiz",
    "bcompany": "üèõ Tashkilot",
    "bindivid": "üë§ Shaxsiy",
    "entername": "Ismingizni kiriting (familiya ism).",
    "enterinn": "Tashkilotingizning STIRni kiriting.",
    "enterpinfl": "PINFL-ni kiriting",
    "entercname": "Tashkilotingizning nomini kiriting",
    "enteradr": "Manzilingizni yoki lokatsiyani yuboring.",
    "enterphone": "Aloqa uchun telefon raqamini kiriting",
    "enterperson": "Aloqa uchun shaxsingizning ismini kiriting.",
    "confirm": "Ma'lumotlarni tasdiqlang",
    "entertask": "Muxtlislikingizni ta'riflang. Agar qo'shimcha ma'lumot yoki aloqa bo'lsa, ularni ham ko'rsating",
    "enterreview": "Tavsiyangizni, mulohazangizni yoki shikoyatingizni tasvirlang",
    "rating": "Baholaringizni berishingiz mumkin.",
    "restart": "üîÑ Qayta boshlash",
    "mainmenu": "üè† Asosiy menyu",
    "newtask": "üìù Yangi so'rov",
    "mytasks": "üìã Mening so'rovlari",
    "review": "üñç Mulohaza/shikoyat",
    "rate": "üåü Baholash",
    "settings": "‚öôÔ∏è Sozlamalar",
    "showmydata": "üóÑ Mening ma'lumotlarim",
    "changemydata": "‚úèÔ∏è Ma'lumotlarimni o'zgartirish",
    "suport": "Texnik yordam",
    "qtochange": "Nima o'zgartirmoqchisiz?",
    "bcname": "Tashkilot nomi",
    "bmyname": "Mening ismim",
    "binn": "üÜî INN",
    "bpinfl": "üÜî PINFL",
    "badr": "üèò Manzil",
    "bphone": "üìû Bog'lanish uchun telefon",
    "bperson": "üë§ Bog'lanish uchun shaxs",
    "breg": "üìã Ro'yxatdan o'tish",
    "errorcom": "‚ö†Ô∏è Noto'g'ri buyruq",
    "bsend": "üì® Yuborish",
    "welcome": "Salom! Men sizga qanday yordam berishim mumkin?",
    "hi": "Men sizning so'rovingizni qabul qilib ustaga yo'naltirishim mumkin. Yoki sizning, fikringizni yoki shikoyatingizni qabul qilishim mumkin.",
    "by": "‚úÖ Ha",
    "bn": "‚õîÔ∏è Yo'q",
    "lngsel": "Iltimos, tilni tanlang",
    "enteragayn": "Iltimos, barcha ma'lumotlarni qaytadan kiriting. \n Tilni tanlang",
    "sname": "Ism:",
    "scname": "Tashkilot nomi:",
    "sperson": "Bog'lanish uchun shaxs:",
    "sadr": "Manzil:",
    "sphone": "Telefon:",
    "slang": "Til:",
    "success": "‚úÖ Amal muvaffaqiyatli bajarildi.",
    "searchnone": "So'rovingiz bo'yicha hech narsa topilmadi.",
    "contractifno": "Shartnomaning raqamini kiriting, agar bo'lmasa (O'tkazib yuborish)-ni bosing.",
    "bskip": "‚è© O'tkazib yuborish",
    "bsave": "üíæ Saqlash",
    "blang": "üá∫üáøüá¨üáßüá∑üá∫ Til",
    "bcancel": "‚õîÔ∏è Bekor qilish",
    "selectlang": "Tilni tanlang",
    "locleave": "‚è© O'tkazib yuborish",
    "locadd": "‚ûï Lokatsiya qo'shish",
    "locwhere": "Usta qayerga kelishi kerak? Ro'yxatdan bir lokatsiyani tanlang, yangi qo'shing yoki bu qadamni o'tkazing",
    "locsendloc": "Lokatsiyani yuboring",
    "locerrorloc": "Siz lokatsiyani yubormadingiz.\nIltimos, lokatsiyani yuboring",
    "locentername": "Yangi lokatsiyaga nom berin.\nMisol uchun:\nAsosiy ofis yoki Mirabad tumani filiali.",
    "setmylocs": "Mening joylashuvlarim",
    "setchange": "‚úèÔ∏è O'zgartirish",
    "setmestochange": "Joylashuvni o'zgartirish uchun, talab etilgan joylashuvning pastidagi [O'zgartirish] tugmasini bosing. Siz yangi joylashuvni ham qo'shishingiz mumkin.",
    "setwywtch": "Nima o'zgartirmoqchisiz?",
    "setlocationch": "üìç Joylashuv",
    "setnameloc": "Nomi",
    "setdelete": "üóë O'chirish",
    "setconf": "Ushbu joylashuvni o'chirishga ishonchingiz komilmi?",
    "setconf2": "O'chirishni tasdiqlamadingiz. Joylashuvni o'chirishni xohlaysizmi?"
}